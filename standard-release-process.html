<!DOCTYPE html>
    <!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 23 Jun 2017 
 | Rendered using Hippo Forge Maven Skin 2.0.0 based on Apache Maven Fluido Skin
-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                  <meta name="Date-Revision-yyyymmdd" content="20170623" />
              <meta http-equiv="Content-Language" content="en" />
      <title>Hippo Forge Documentation &#x2013; Standard Release Process Using git-flow</title>
  <link rel="stylesheet" href="./css/forge-maven-skin-syntaxhighlighter-2.0.0.min.css"/>
  <link rel="stylesheet" href="./css/forge-maven-skin-2.0.0.min.css"/>
  <link rel="stylesheet" href="./css/site.css" />
  <link rel="stylesheet" href="./css/print.css" media="print" />
  
  <script type="text/javascript" src="./js/forge-maven-skin-syntaxhighlighter-2.0.0.min.js"></script>
  <script type="text/javascript" src="./js/forge-maven-skin-2.0.0.min.js"></script>

    </head>
<body class="topBarDisabled">
  <div class="container-fluid">
  <div id="banner">
    <div id="logo">
      <a href="http://www.github.com/onehippo-forge">
        <img src="./images/hipposkin/hippo-forge-logo.png" alt="Hippo Forge Logo" />
      </a>
    </div>
    <div class="pull-left">              <div id="bannerLeft">    <h1>Hippo Forge Documentation</h1>
    </div>
              </div>
    <div class="pull-right"></div>
    <div class="clear"><hr/></div>
  </div>

  <div id="breadcrumbs">
    <div class="links">
      <a href="https://www.bloomreach.com">bloomreach.com</a>
      <a href="https://www.onehippo.org">onehippo.org</a>
    </div>
    <ul class="breadcrumb">
    
  <li id="publishDate">published: 23 Jun 2017  
  </li>
  
        
            </ul>
    <div class="clear"><hr/></div>
  </div>
<div class="row-fluid">
  <div id="leftColumn" class="span2">
    <div class="well sidebar-nav">
    
    <ul class="nav nav-list">
            <li>  <a href="index.html" title="Home">  <span class="none"></span>  Home</a>  </li>
        <li>  <a href="project-list.html" title="Project List">  <span class="none"></span>  Project List</a>  </li>
        <li>  <a href="development.html" title="Development">  <span class="none"></span>  Development</a>  </li>
        <li>  <a href="checklist.html" title="Quality Checklist">  <span class="none"></span>  Quality Checklist</a>  </li>
                                                    <li>  <a href="release-process.html" title="Release Process">  <span class="icon-chevron-down"></span>  Release Process</a>  
    <ul class="nav nav-list">
                  <li class="active">  <a href="#"><span class="none"></span>Standard Release Process</a>
  </li>
                        <li>  <a href="maintenance-release-process.html" title="Maintenance Release Process">  <span class="none"></span>  Maintenance Release Process</a>  </li>
              </ul>
  </li>
        </ul>
    
          <hr />
      <div id="poweredBy">
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
              <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">  <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />  </a>
          </div>
    </div>
  </div>
  <div id="bodyColumn"  class="span10" >
                    <div class="section">
<h2><a name="Standard_Release_Process_Using_git-flow"></a>Standard Release Process Using git-flow</h2>
<p>This article explains how you can cut a release using <tt>git-flow</tt> and deploy the release artifacts.</p>
<p>The instructions are based on <tt>git-flow</tt>. Please follow available references of <tt>git-flow</tt> like the following:</p>

<ul>
  
<li><a class="externalLink" href="http://danielkummer.github.io/git-flow-cheatsheet/">http://danielkummer.github.io/git-flow-cheatsheet/</a></li>
  
<li><a class="externalLink" href="http://nvie.com/posts/a-successful-git-branching-model/">http://nvie.com/posts/a-successful-git-branching-model/</a></li>
</ul>
<div class="section">
<h3><a name="Preparations_to_use_git-flow"></a>Preparations to use git-flow</h3>
<div class="section">
<h4><a name="Initialize_git-flow_in_the_project_once"></a>Initialize git-flow in the project once</h4>
<p>In order to use <tt>git-flow</tt> in your local workspace folder, you should do the following first once:</p>

<ul>
  
<li>You should have at least two branches, <tt>master</tt> and <tt>develop</tt>, in prior.</li>
  
<li>You must initialize your working space once for the first time by running <tt>git flow init</tt> and accepting the default settings.</li>
  
<li>It is also recommended to set the default branch to <tt>develop</tt>. Change the settings of the project to change the default branch to <tt>develop</tt>.</li>
</ul></div></div>
<div class="section">
<h3><a name="Start_a_new_release"></a>Start a new release</h3>
<p>In this instruction, let&#x2019;s suppose we want to cut a release of version 1.2.3 from the <tt>develop</tt> branch. You need to start the release process with the following command:</p>

<div class="source">
<div class="source">
<pre>    git flow release start RELEASE [BASE]
</pre></div></div>
<p>So, for example,</p>

<div class="source">
<div class="source">
<pre>    git flow release start 1.2.3 develop
</pre></div></div>
<p>Now, you&#x2019;re automatically moved to a new branch already, <tt>release/1.2.3</tt>.</p></div>
<div class="section">
<h3><a name="Set_release_versions"></a>Set release versions</h3>
<p>It&#x2019;s time to set a proper release version in the pom.xml files. For example,</p>

<div class="source">
<div class="source">
<pre>    mvn org.codehaus.mojo:versions-maven-plugin:2.1:set -DgenerateBackupPoms=false -DnewVersion=&quot;1.2.3&quot;
</pre></div></div>
<p>Also, if you have <tt>demo</tt> folder underneath, set the release version in the demo folder as well:</p>

<div class="source">
<div class="source">
<pre>    cd demo
    mvn org.codehaus.mojo:versions-maven-plugin:2.1:set -DgenerateBackupPoms=false -DnewVersion=&quot;1.2.3&quot;
    cd ..
</pre></div></div>
<p><b>NOTE</b>: <tt>demo</tt> is a child folder managed in the same git repository, but not a maven subproject.  That&#x2019;s why you set the maven versions separately.</p>
<p>Let&#x2019;s commit the version changes. For example,</p>

<div class="source">
<div class="source">
<pre>    git commit -a -m &quot;Setting release version to 1.2.3.&quot;
</pre></div></div></div>
<div class="section">
<h3><a name="aOptional_Publish_the_release_branch"></a>(Optional) Publish the release branch</h3>
<p>You can skip this step if you are releasing it alone. But if you want your team to do final hardening in the shared release branch, you should do this step.</p>

<div class="source">
<div class="source">
<pre>    git flow release publish RELEASE
</pre></div></div>
<p>For example,</p>

<div class="source">
<div class="source">
<pre>    git flow release publish 1.2.3
</pre></div></div>
<p>Now, your release branch was published. You can inform the team of this new release branch for final hardening work.</p></div>
<div class="section">
<h3><a name="Finish_the_release"></a>Finish the release</h3>
<p>Finally, let&#x2019;s finish the release. This step includes making a tag, merging changes to master and develop branches and removing the release branch.</p>

<div class="source">
<div class="source">
<pre>    git flow release finish RELEASE
</pre></div></div>
<p>For example,</p>

<div class="source">
<div class="source">
<pre>    git flow release finish 1.2.3
</pre></div></div>
<p>This finishing step removes the <tt>release/1.2.3</tt> branch <i>locally</i>, and moves to <tt>develop</tt> branch.</p></div>
<div class="section">
<h3><a name="Push_master_branch_and_bump_up_version_in_develop_branch_and_push_it."></a>Push <tt>master</tt> branch and bump up version in <tt>develop</tt> branch and push it.</h3>
<p>In the finishing step above, every change was already merged to <tt>master</tt> and <tt>develop</tt> branch from the release branch. So, don&#x2019;t forge to push local commits to the remote.</p>
<p>For example, let&#x2019;s push the commits in <tt>master</tt> branch to the remote.</p>

<div class="source">
<div class="source">
<pre>    git checkout master
    git push origin master
</pre></div></div>
<p>Before pushing the commits in <tt>develop</tt> branch, let&#x2019;s bump up the version for next development cycle with <tt>-SNAPSHOT</tt> in <tt>develop</tt> branch.</p>
<p>For example,</p>

<div class="source">
<div class="source">
<pre>    git checkout develop
    mvn org.codehaus.mojo:versions-maven-plugin:2.1:set -DgenerateBackupPoms=false -DnewVersion=&quot;1.2.4-SNAPSHOT&quot;
</pre></div></div>
<p>Again, don&#x2019;t forget bumping up versions in the demo folder if it exists.</p>

<div class="source">
<div class="source">
<pre>    cd demo
    mvn org.codehaus.mojo:versions-maven-plugin:2.1:set -DgenerateBackupPoms=false -DnewVersion=&quot;1.2.4-SNAPSHOT&quot;

    cd ..
    git commit -a -m &quot;bump up version for next dev cycle.&quot;

    git push origin develop
</pre></div></div></div>
<div class="section">
<h3><a name="Push_the_newly_created_tag."></a>Push the newly created tag.</h3>
<p>In the previous finishing step, a tag was made for the release version. e.g, <tt>1.2.3</tt></p>
<p>You can check all the tags by the following command:</p>

<div class="source">
<div class="source">
<pre>    git tag -l
</pre></div></div>
<p><b>Tip</b>: You can also run the following command to fetch all the tags pushed by someone else in the remote:</p>

<div class="source">
<div class="source">
<pre>    git fetch --all --tags --prune
</pre></div></div>
<p>Now, let&#x2019;s push the newly created tag generated in the finishing step:</p>

<div class="source">
<div class="source">
<pre>    git push origin 1.2.3
</pre></div></div>
<p>If you&#x2019;ve published the release branch in the previous optional step, you may now remove the remote (temporary) release branch:</p>

<div class="source">
<div class="source">
<pre>    git push origin :release/1.2.3
</pre></div></div>
<p>Now, your normal release process is done. Your new release was made as a tag and published.</p></div>
<div class="section">
<h3><a name="aOptional_Deploy_the_release_tag_to_Hippo_Forge_Maven_Repository"></a>(Optional) Deploy the release tag to Hippo Forge Maven Repository</h3>
<p>Check out the release tag like the following example. You may name the local branch to anything else.</p>

<div class="source">
<div class="source">
<pre>    git checkout tags/1.2.3 -b tag-1.2.3
</pre></div></div>
<p>Now, deploy it to Hippo Forge Maven repository from the tag branch:</p>

<div class="source">
<div class="source">
<pre>    mvn deploy
</pre></div></div>
<p>You may remove the local tag branch.</p>

<div class="source">
<div class="source">
<pre>    git checkout develop
    git branch -D tag-1.2.3
</pre></div></div>
<p>Congratulations! Great work!</p></div></div>
    </div>
    </div>
    </div>
    <hr/>
    <footer>
    <div class="container-fluid">
      <div class="row-fluid">
          <p class="copyright">Copyright &copy;      2017.
  Hippo B.V. All rights reserved.
</p>
    </div>
            </div>
  </footer>
    </body>
</html>

