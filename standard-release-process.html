<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 21 Mar 2017
 | Rendered using Hippo Forge Maven Skin 1.04.00 based on Apache Maven Fluido Skin
-->
<!--[if lt IE 7]><html id="ie6" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 7]><html id="ie7" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 8]><html id="ie8" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if IE 9]><html id="ie9" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if !IE]>--><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><!--<![endif]-->

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
                    <meta name="Date-Revision-yyyymmdd" content="20170321"/>
                <meta http-equiv="Content-Language" content="en"/>
        <title>Hippo Forge Documentation - Standard Release Process Using git-flow</title>
    <link rel="stylesheet" href="./css/forge-maven-skin-syntaxhighlighter-1.04.00.min.css"/>
    <link rel="stylesheet" href="./css/forge-maven-skin-1.04.00.min.css"/>
    <link rel="stylesheet" href="./css/site.css"/>
    <link rel="stylesheet" href="./css/print.css" media="print"/>

        
    <script type="text/javascript" src="./js/forge-maven-skin-syntaxhighlighter-1.04.00.min.js"></script>
    <script type="text/javascript" src="./js/forge-maven-skin-1.04.00.min.js"></script>

    
            </head>
    <body>

        
    
    
    <div class="container-fluid">
        <div class="row-fluid">
            <div id="header">
                <div id="logo">
                    <a href="http://www.onehippo.com">
                        <img src="./images/hipposkin/hippo-logo.png" alt="Hippo Logo" />
                    </a>
                </div>

                <h1>
                                            Hippo Forge Documentation
                    
                </h1>
                <div class="clearfix"></div>
            </div>
        </div>

        <div class="row-fluid">
            <div id="breadcrumbs" class="clearfix">
                <ul class="breadcrumb">
                                
                                        
                            <li id="publishDate">Last Published: 21 Mar 2017</li>
                                                                                                                                                </ul>

                <div class="links">
                    <a href="https://www.onehippo.com">Onehippo.com</a>
                    <a href="https://www.onehippo.org">Onehippo.org</a>
                </div>
            </div>
        </div>



            
    <div class="row-fluid">
        <div id="leftColumn" class="span3">
            <div class="well sidebar-nav">
                <ul class="nav nav-list">
                                                   
        <li>
    
                                                <a href="index.html" title="Home">
                    <i class="none"></i>
                Home</a>
                    </li>
                               
        <li>
    
                                                <a href="project-list.html" title="Project List">
                    <i class="none"></i>
                Project List</a>
                    </li>
                               
        <li>
    
                                                <a href="development.html" title="Development">
                    <i class="none"></i>
                Development</a>
                    </li>
                               
        <li>
    
                                                <a href="checklist.html" title="Quality Checklist">
                    <i class="none"></i>
                Quality Checklist</a>
                    </li>
                                                                                                                                                                                                                       
        <li>
    
                                                <a href="release-process.html" title="Release Process">
                    <i class="icon-chevron-down"></i>
                Release Process</a>
                                        <ul class="nav nav-list">
                                                          
        <li class="active">
    
                        <a href="#"><i class="none"></i>Standard Release Process</a>
                </li>
                                                                            
        <li>
    
                                                <a href="maintenance-release-process.html" title="Maintenance Release Process">
                    <i class="none"></i>
                Maintenance Release Process</a>
                    </li>
                                              </ul>
            </li>
                        </ul>

                
                <hr class="divider"/>

                <div id="poweredBy">
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                                <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                            </div>
            </div>
        </div>
    
        
        <div id="bodyColumn"  class="span9" >
                                
            <div class="section">
<h2>Standard Release Process Using git-flow<a name="Standard_Release_Process_Using_git-flow"></a></h2>
<p>This article explains how you can cut a release using <tt>git-flow</tt> and deploy the release artifacts.</p>
<p>The instructions are based on <tt>git-flow</tt>. Please follow available references of <tt>git-flow</tt> like the following:</p>

<ul>
  
<li><a class="externalLink" href="http://danielkummer.github.io/git-flow-cheatsheet/">http://danielkummer.github.io/git-flow-cheatsheet/</a></li>
  
<li><a class="externalLink" href="http://nvie.com/posts/a-successful-git-branching-model/">http://nvie.com/posts/a-successful-git-branching-model/</a></li>
</ul>
<div class="section">
<h3>Preparations to use git-flow<a name="Preparations_to_use_git-flow"></a></h3>
<div class="section">
<h4>Initialize git-flow in the project once<a name="Initialize_git-flow_in_the_project_once"></a></h4>
<p>In order to use <tt>git-flow</tt> in your local workspace folder, you should do the following first once:</p>

<ul>
  
<li>You should have at least two branches, <tt>master</tt> and <tt>develop</tt>, in prior.</li>
  
<li>You must initialize your working space once for the first time by running <tt>git flow init</tt> and accepting the default settings.</li>
  
<li>It is also recommended to set the default branch to <tt>develop</tt>. Change the settings of the project to change the default branch to <tt>develop</tt>.</li>
</ul></div></div>
<div class="section">
<h3>Start a new release<a name="Start_a_new_release"></a></h3>
<p>In this instruction, let&#x2019;s suppose we want to cut a release of version 1.2.3 from the <tt>develop</tt> branch. You need to start the release process with the following command:</p>

<div class="source"><pre class="prettyprint linenums">    git flow release start RELEASE [BASE]
</pre></div>
<p>So, for example,</p>

<div class="source"><pre class="prettyprint linenums">    git flow release start 1.2.3 develop
</pre></div>
<p>Now, you&#x2019;re automatically moved to a new branch already, <tt>release/1.2.3</tt>.</p></div>
<div class="section">
<h3>Set release versions<a name="Set_release_versions"></a></h3>
<p>It&#x2019;s time to set a proper release version in the pom.xml files. For example,</p>

<div class="source"><pre class="prettyprint linenums">    mvn org.codehaus.mojo:versions-maven-plugin:2.1:set -DgenerateBackupPoms=false -DnewVersion=&quot;1.2.3&quot;
</pre></div>
<p>Also, if you have <tt>demo</tt> folder underneath, set the release version in the demo folder as well:</p>

<div class="source"><pre class="prettyprint linenums">    cd demo
    mvn org.codehaus.mojo:versions-maven-plugin:2.1:set -DgenerateBackupPoms=false -DnewVersion=&quot;1.2.3&quot;
    cd ..
</pre></div>
<p><b>NOTE</b>: <tt>demo</tt> is a child folder managed in the same git repository, but not a maven subproject.  That&#x2019;s why you set the maven versions separately.</p>
<p>Let&#x2019;s commit the version changes. For example,</p>

<div class="source"><pre class="prettyprint linenums">    git commit -a -m &quot;Setting release version to 1.2.3.&quot;
</pre></div></div>
<div class="section">
<h3>(Optional) Publish the release branch<a name="aOptional_Publish_the_release_branch"></a></h3>
<p>You can skip this step if you are releasing it alone. But if you want your team to do final hardening in the shared release branch, you should do this step.</p>

<div class="source"><pre class="prettyprint linenums">    git flow release publish RELEASE
</pre></div>
<p>For example,</p>

<div class="source"><pre class="prettyprint linenums">    git flow release publish 1.2.3
</pre></div>
<p>Now, your release branch was published. You can inform the team of this new release branch for final hardening work.</p></div>
<div class="section">
<h3>Finish the release<a name="Finish_the_release"></a></h3>
<p>Finally, let&#x2019;s finish the release. This step includes making a tag, merging changes to master and develop branches and removing the release branch.</p>

<div class="source"><pre class="prettyprint linenums">    git flow release finish RELEASE
</pre></div>
<p>For example,</p>

<div class="source"><pre class="prettyprint linenums">    git flow release finish 1.2.3
</pre></div>
<p>This finishing step removes the <tt>release/1.2.3</tt> branch <i>locally</i>, and moves to <tt>develop</tt> branch.</p></div>
<div class="section">
<h3>Push <tt>master</tt> branch and bump up version in <tt>develop</tt> branch and push it.<a name="Push_master_branch_and_bump_up_version_in_develop_branch_and_push_it."></a></h3>
<p>In the finishing step above, every change was already merged to <tt>master</tt> and <tt>develop</tt> branch from the release branch. So, don&#x2019;t forge to push local commits to the remote.</p>
<p>For example, let&#x2019;s push the commits in <tt>master</tt> branch to the remote.</p>

<div class="source"><pre class="prettyprint linenums">    git checkout master
    git push origin master
</pre></div>
<p>Before pushing the commits in <tt>develop</tt> branch, let&#x2019;s bump up the version for next development cycle with <tt>-SNAPSHOT</tt> in <tt>develop</tt> branch.</p>
<p>For example,</p>

<div class="source"><pre class="prettyprint linenums">    git checkout develop
    mvn org.codehaus.mojo:versions-maven-plugin:2.1:set -DgenerateBackupPoms=false -DnewVersion=&quot;1.2.4-SNAPSHOT&quot;
</pre></div>
<p>Again, don&#x2019;t forget bumping up versions in the demo folder if it exists.</p>

<div class="source"><pre class="prettyprint linenums">    cd demo
    mvn org.codehaus.mojo:versions-maven-plugin:2.1:set -DgenerateBackupPoms=false -DnewVersion=&quot;1.2.4-SNAPSHOT&quot;

    cd ..
    git commit -a -m &quot;bump up version for next dev cycle.&quot;

    git push origin develop
</pre></div></div>
<div class="section">
<h3>Push the newly created tag.<a name="Push_the_newly_created_tag."></a></h3>
<p>In the previous finishing step, a tag was made for the release version. e.g, <tt>1.2.3</tt></p>
<p>You can check all the tags by the following command:</p>

<div class="source"><pre class="prettyprint linenums">    git tag -l
</pre></div>
<p><b>Tip</b>: You can also run the following command to fetch all the tags pushed by someone else in the remote:</p>

<div class="source"><pre class="prettyprint linenums">    git fetch --all --tags --prune
</pre></div>
<p>Now, let&#x2019;s push the newly created tag generated in the finishing step:</p>

<div class="source"><pre class="prettyprint linenums">    git push origin 1.2.3
</pre></div>
<p>If you&#x2019;ve published the release branch in the previous optional step, you may now remove the remote (temporary) release branch:</p>

<div class="source"><pre class="prettyprint linenums">    git push origin :release/1.2.3
</pre></div>
<p>Now, your normal release process is done. Your new release was made as a tag and published.</p></div>
<div class="section">
<h3>(Optional) Deploy the release tag to Hippo Forge Maven Repository<a name="aOptional_Deploy_the_release_tag_to_Hippo_Forge_Maven_Repository"></a></h3>
<p>Check out the release tag like the following example. You may name the local branch to anything else.</p>

<div class="source"><pre class="prettyprint linenums">    git checkout tags/1.2.3 -b tag-1.2.3
</pre></div>
<p>Now, deploy it to Hippo Forge Maven repository from the tag branch:</p>

<div class="source"><pre class="prettyprint linenums">    mvn deploy
</pre></div>
<p>You may remove the local tag branch.</p>

<div class="source"><pre class="prettyprint linenums">    git checkout develop
    git branch -D tag-1.2.3
</pre></div>
<p>Congratulations! Great work!</p></div></div>
            </div>
        </div>
    </div>

    <hr/>

    <footer>
                <div class="container-fluid">
                <div class="row span12">Copyright &copy;                                                2017.
                        All Rights Reserved.            
                                        
            </div>

        
        
                </div>
    </footer>
</body>
</html>
